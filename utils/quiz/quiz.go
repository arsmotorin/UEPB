package quiz

import (
	"UEPB/utils/interfaces"

	tb "gopkg.in/telebot.v4"
)

type Question struct {
	Text    string
	Buttons []tb.InlineButton
	Answer  string
}

func (q Question) GetText() string {
	return q.Text
}

func (q Question) GetButtons() []tb.InlineButton {
	return q.Buttons
}

func (q Question) GetAnswer() string {
	return q.Answer
}

type Quiz struct {
	Questions []Question
}

func (quiz Quiz) GetQuestions() []interfaces.QuestionInterface {
	questions := make([]interfaces.QuestionInterface, len(quiz.Questions))
	for i, q := range quiz.Questions {
		questions[i] = q
	}
	return questions
}

// CreateInlineButton creates a new inline button
func CreateInlineButton(unique, text string) tb.InlineButton {
	return tb.InlineButton{Unique: unique, Text: text}
}

// DefaultQuiz returns the default quiz
func DefaultQuiz() interfaces.QuizInterface {
	return Quiz{
		Questions: []Question{
			{"1Ô∏è‚É£ –ö–∞–∫—É—é —Å–∏—Å—Ç–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏–µ–º?",
				[]tb.InlineButton{
					CreateInlineButton("q1_usos", "USOS"),
					CreateInlineButton("q1_edupl", "EDUPL"),
					CreateInlineButton("q1_muci", "MUCI"),
				},
				"q1_usos"},
			{"2Ô∏è‚É£ –ö–∞–∫—É—é –ø–æ—á—Ç—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –í–£–ó –¥–ª—è —É—á—ë—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π —Å—Ç—É–¥–µ–Ω—Ç–æ–≤?",
				[]tb.InlineButton{
					CreateInlineButton("q2_gmail", "Gmail"),
					CreateInlineButton("q2_outlook", "Outlook"),
					CreateInlineButton("q2_yahoo", "Yahoo"),
				},
				"q2_outlook"},
			{"3Ô∏è‚É£ –ù–∞ –∫–∞–∫–æ–π —É–ª–∏—Ü–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–ª–∞–≤–Ω—ã–π –∫–æ—Ä–ø—É—Å —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞?",
				[]tb.InlineButton{
					CreateInlineButton("q3_niepodleglosci", "Ul. Niepodleg≈Ço≈õci"),
					CreateInlineButton("q3_chinska", "Ul. Chi≈Ñska"),
					CreateInlineButton("q3_roz", "Ul. R√≥≈º"),
				},
				"q3_niepodleglosci"},
		},
	}
}

// StudentButton returns a button for students
func StudentButton() tb.InlineButton {
	return CreateInlineButton("student", "üë®‚Äçüéì –Ø —Å—Ç—É–¥–µ–Ω—Ç, –º–æ–≥—É –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å")
}

// GuestButton returns a button for guests
func GuestButton() tb.InlineButton {
	return CreateInlineButton("guest", "üßê –£ –º–µ–Ω—è –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å")
}

// AdsButton returns a button for ads
func AdsButton() tb.InlineButton {
	return CreateInlineButton("ads", "üì¢ –•–æ—á—É —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Ä–µ–∫–ª–∞–º—É")
}
